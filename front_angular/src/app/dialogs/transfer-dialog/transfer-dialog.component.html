<h1 mat-dialog-title style="background-color: blue; color: white; margin: auto; width: 100%">Faire un virement</h1>
<div mat-dialog-content style="padding-top: 20px;">

    <mat-card class="example-card">

      @if(!transferService.transaction.montantTotal){
        <mat-card-header>
          <mat-card-title style="margin: 20px;">Virement entre Buddys</mat-card-title>
        </mat-card-header>
        <form [formGroup]="transferBuddy">
          <mat-card-content>
              <mat-form-field appearance="outline" style="margin-left: 20px; margin-right: 20px;">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" id="email" placeholder="Email" required [readonly]="true">
                @if("email.invalid && (email.dirty || email.touched)"){
                  <mat-error>Rentrez un mail valid</mat-error>
                }
              </mat-form-field>
              <mat-form-field appearance="outline" style="margin-left: 20px; margin-right: 20px;">
                <mat-label>Montant</mat-label>
                <input matInput type="number" formControlName="montant" id="montant" placeholder="Montant" required>
                @if("montant.invalid && (montant.dirty || montant.touched)"){
                  <mat-error>Rentrez un montant valid</mat-error>
                }
              </mat-form-field>
          </mat-card-content>
          <mat-card-actions style="padding-left: 40px; padding-right: 40px;">
            <button mat-button type="submit" [disabled]="transferBuddy.invalid" (click)="onSubmit()">Virer</button>
            <button mat-button mat-dialog-close color="warn" style="margin-left: auto;" (click)="vider()">Close</button>
          </mat-card-actions>
          </form>
      } @else {
        <mat-card class="example-card">
          <mat-card-header>
            <mat-card-title style="margin: 20px;">Confirmer le Virement</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <h3>Nom</h3>
            <span>{{transferService.user.nom}}</span>
            <h3>Prenom</h3>
            <span>{{transferService.user.prenom}}</span>
            <h3>Email</h3>
            <span>{{transferService.user.email}}</span>
            <h3>Montant Total</h3>
            <span>{{transferService.transaction.montantTotal}}â‚¬</span>
          </mat-card-content>
          <mat-card-actions style="margin: 20px;">
            <button mat-raised-button mat-dialog-close color="primary" (click)="confirmer()">Confirmer</button>
            <button mat-raised-button mat-dialog-close color="warn" style="margin-left: auto;" (click)="vider()">Close</button>
          </mat-card-actions>
        </mat-card>
      }
    </mat-card>
</div>

